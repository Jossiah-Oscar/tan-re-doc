databaseChangeLog:
  - changeSet:
      id: 20250805-001
      author: jkibona
      changes:

        - createTable:
            tableName: facultative_offer_analysis
            columns:
              - column:
                  name: id
                  type: SERIAL
                  constraints:
                    primaryKey: true

              - column:
                  name: cedant
                  type: VARCHAR(100)
                  constraints:
                    nullable: false

              - column:
                  name: date_time_created
                  type: TIMESTAMP
                  constraints:
                    nullable: false

              - column:
                  name: insured
                  type: VARCHAR(100)
                  constraints:
                    nullable: false

              - column:
                  name: occupation
                  type: VARCHAR(100)
                  constraints:
                    nullable: false

              - column:
                  name: business_class_id
                  type: INTEGER
                  constraints:
                    nullable: false
                    foreignKeyName: fk_fac_offer_business_class
                    references: business_class(id)

              - column:
                  name: country
                  type: VARCHAR(50)
                  constraints:
                    nullable: false

              - column:
                  name: period_from
                  type: DATE
                  constraints:
                    nullable: false

              - column:
                  name: period_to
                  type: DATE
                  constraints:
                    nullable: false

              - column:
                  name: currency_code
                  type: VARCHAR(10)
                  constraints:
                    nullable: false
                    foreignKeyName: fk_fac_offer_currency
                    references: currency(code)

              - column:
                  name: exchange_rate
                  type: NUMERIC(18,8)
                  remarks: "Rate of exchange to compute TZS equivalents"

              - column:
                  name: sum_insured_os
                  type: NUMERIC(30,2)

              - column:
                  name: premium_os
                  type: NUMERIC(30,2)

              - column:
                  name: sum_insured_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: premium_tz
                  type: NUMERIC(30,2)

              - column:
                  name: share_offered_pct
                  type: NUMERIC(5,2)

              - column:
                  name: so_exposure_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: so_premium_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: share_accepted_pct
                  type: NUMERIC(5,2)

              - column:
                  name: sa_exposure_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: sa_premium_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: tan_re_retention_pct
                  type: NUMERIC(5,2)

              - column:
                  name: tan_re_ret_exposure_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: tan_re_ret_premium_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: su_retro_pct
                  type: NUMERIC(5,2)

              - column:
                  name: su_retro_exposure_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: su_retro_premium_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: fac_retro_pct
                  type: NUMERIC(5,2)

              - column:
                  name: fac_retro_exposure_tzs
                  type: NUMERIC(30,2)

              - column:
                  name: fac_retro_premium_tzs
                  type: NUMERIC(30,2)
  - changeSet:
      id: 20250806-001
      author: jkibona
      changes:
        - addColumn:
            tableName: facultative_offer_analysis
            columns:
              - column:
                  name: contract_type_id
                  type: INTEGER
                  constraints:
                    nullable: false
                    foreignKeyName: fk_fac_offer_contract_type
                    references: contract_type(id)